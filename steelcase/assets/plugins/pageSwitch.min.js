!function(a,b,c){"use strict";function d(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?E[C.call(a)]||"object":typeof a}function e(a){var b=d(a);return!!a&&"function"!=b&&"string"!=b&&(0===a.length||a.length&&(1==a.nodeType||a.length-1 in a))}function f(a){return(a+"").replace(/-([a-z]|[0-9])/gi,function(a,b){return(b+"").toUpperCase()})}function g(a){var b=f(a),c=f(x+b);return b in w&&b||c in w&&c||""}function h(a){return"function"==d(a)}function i(a){var b,c=0;if("number"==d(a.length))c=a.length;else if("keys"in Object)c=Object.keys(a).length;else for(b in a)a.hasOwnProperty(b)&&c++;return c}function j(a,b){return"item"in a?a.item(b):function(){var a,c=0;for(a in this)if(c++==b)return this[a]}.call(a,b)}function k(a,b){if(e(a)){if("function"==d(a.forEach))return a.forEach(b);for(var c,f=0,g=a.length;f<g;f++)c=a[f],"undefined"!=d(c)&&b(c,f,a)}else{var h;for(h in a)b(h,a[h],a)}}function l(a){var b=[];return k(a.children||a.childNodes,function(a){1==a.nodeType&&b.push(a)}),b}function m(b,c){var d=a.getComputedStyle&&a.getComputedStyle(b,null)||b.currentStyle||b.style;return d[c]}function n(a,b,c){return"object"==d(b)?k(b,function(b,c){n(a,b,c)}):void k(b.split(" "),function(b){a.addEventListener(b,c,!1)})}function o(a,b,c){return"object"==d(b)?k(b,function(b,c){o(a,b,c)}):void k(b.split(" "),function(b){a.removeEventListener(b,c,!1)})}function p(){var b;a.getSelection?(b=getSelection(),"empty"in b?b.empty():"removeAllRanges"in b&&b.removeAllRanges()):v.selection.empty()}function q(a){var b,c,d={},e=a.which,f=a.button;if(k("wheelDelta detail which keyCode".split(" "),function(b){d[b]=a[b]}),d.oldEvent=a,d.type=a.type.toLowerCase(),d.eventType=F[d.type]||d.type,d.eventCode=G[d.type]||0,d.pointerType=H[a.pointerType]||a.pointerType||d.eventType,d.target=a.target||a.srcElement||v.documentElement,3===d.target.nodeType&&(d.target=d.target.parentNode),d.preventDefault=function(){a.preventDefault&&a.preventDefault(),d.returnValue=a.returnValue=!1},b=K[d.eventType]){switch(d.eventType){case"mouse":case"pointer":var g=a.pointerId||0;3==d.eventCode?delete b[g]:b[g]=a;break;case"touch":K[d.eventType]=b=a.touches}(c=j(b,0))&&(d.clientX=c.clientX,d.clientY=c.clientY),d.button=e<4?Math.max(0,e-1):4&f&&1||2&f,d.length=i(b)}return d}var r="2.3.2",s=0,t=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||function(a){var b=+new Date,c=Math.max(1e3/60,1e3/60-(b-s));return s=b+c,setTimeout(a,c)},u=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame||a.mozCancelRequestAnimationFrame||clearTimeout,v=a.document,w=v.createElement("div").style,x=function(){for(var a,b="-webkit- -moz-".split(" ");a=b.shift();)if(f(a+"transform")in w)return a;return""}(),y=g("opacity"),z=g("transform"),A=g("perspective"),B=g("transform-style"),C=(g("transform-origin"),g("backface-visibility"),B&&function(){return w[B]="preserve-3d","preserve-3d"==w[B]}(),Object.prototype.toString),D=[].slice,E={},F={},G={click:4,mousewheel:5,dommousescroll:5,keydown:6},H={2:"touch",3:"pen",4:"mouse",pen:"pen"},I=[],J=[],K=(function(){var a={},b={start:1,down:1,move:2,end:3,up:3,cancel:3};return k("mouse touch pointer".split(" "),function(c){var d=/pointer/i.test(c)?"pointer":c;a[d]=a[d]||{},H[d]=d,k(b,function(b,e){var g=f(c+b);a[d][g]=e,F[g.toLowerCase()]=d,G[g.toLowerCase()]=e,1==e?I.push(g):J.push(g)})}),a}(),{touch:{},pointer:{},mouse:{}}),L={linear:function(a,b,c,d){return c*a/d+b},ease:function(a,b,c,d){return-c*((a=a/d-1)*a*a*a-1)+b},"ease-in":function(a,b,c,d){return c*(a/=d)*a*a+b},"ease-out":function(a,b,c,d){return c*((a=a/d-1)*a*a+1)+b},"ease-in-out":function(a,b,c,d){return(a/=d/2)<1?c/2*a*a*a+b:c/2*((a-=2)*a*a+2)+b},bounce:function(a,b,c,d){return(a/=d)<1/2.75?c*(7.5625*a*a)+b:a<2/2.75?c*(7.5625*(a-=1.5/2.75)*a+.75)+b:a<2.5/2.75?c*(7.5625*(a-=2.25/2.75)*a+.9375)+b:c*(7.5625*(a-=2.625/2.75)*a+.984375)+b}},M={fade:function(a,b,c,d){y?(a.style.opacity=1-Math.abs(b),c&&(c.style.opacity=Math.abs(b))):(a.style.filter="alpha(opacity="+100*(1-Math.abs(b))+")",c&&(c.style.filter="alpha(opacity="+100*Math.abs(b)+")"))}};k("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a){E["[object "+a+"]"]=a.toLowerCase()}),k("X Y ".split(" "),function(a){var b={X:"left",Y:"top"},c=A?" translateZ(0)":"";M["scroll"+a]=function(d,e,f,g){var h=a||["X","Y"][this.direction];z?d.style[z]="translate"+h+"("+100*e+"%)"+c:d.style[b[h]]=100*e+"%",f&&(z?f.style[z]="translate"+h+"("+100*g+"%)"+c:f.style[b[h]]=100*g+"%")},M["slide"+a]=function(b,c,d,e){M["slideCoverReverse"+a].apply(this,arguments)},k(" Reverse In Out".split(" "),function(d){M["scrollCover"+d+a]=function(e,f,g,h){var i=a||["X","Y"][this.direction],j=Number("In"==d||!d&&f<0||"Reverse"==d&&f>0),k=100,l=100;j?k=20:l=20,z?e.style[z]="translate"+i+"("+f*k+"%)"+c:e.style[b[i]]=f*k+"%",e.style.zIndex=1-j,g&&(z?g.style[z]="translate"+i+"("+h*l+"%)"+c:g.style[b[i]]=h*l+"%",g.style.zIndex=j)},M["slideCover"+d+a]=function(b,e,f,g){var h=a||["X","Y"][this.direction],i=Number("In"==d||!d&&e<0||"Reverse"==d&&e>0);z?(b.style[z]="translate"+h+"("+e*(100-100*i)+"%) scale("+(.2*(1-Math.abs(i&&e))+.8)+")"+c,b.style.zIndex=1-i,f&&(f.style[z]="translate"+h+"("+g*i*100+"%) scale("+(.2*(1-Math.abs(i?0:g))+.8)+")"+c,f.style.zIndex=i)):M["scrollCover"+d+a].apply(this,arguments)}})}),b.prototype={version:r,constructor:b,latestTime:0,init:function(a){var b=this,c=this.handler=function(a){!b.frozen&&b.handleEvent(a)};this.events={},this.duration=isNaN(parseInt(a.duration))?600:parseInt(a.duration),this.direction=0==parseInt(a.direction)?0:1,this.current=parseInt(a.start)||0,this.loop=!!a.loop,this.mouse=null==a.mouse||!!a.mouse,this.mousewheel=!!a.mousewheel,this.interval=parseInt(a.interval)||5e3,this.playing=!!a.autoplay,this.arrowkey=!!a.arrowkey,this.frozen=!!a.freeze,this.pages=l(this.container),this.length=this.pages.length,this.pageData=[],n(this.container,I.join(" ")+" click"+(this.mousewheel?" mousewheel DOMMouseScroll":""),c),n(v,J.join(" ")+(this.arrowkey?" keydown":""),c),k(this.pages,function(a){b.pageData.push({percent:0,cssText:a.style.cssText||""}),b.initStyle(a)}),this.pages[this.current].style.display="block",this.on({before:function(){clearTimeout(this.playTimer)},dragStart:function(){clearTimeout(this.playTimer),p()},after:this.firePlay,update:null}).firePlay(),this.setEase(a.ease),this.setTransition(a.transition)},initStyle:function(a){var b,c=a.style;return k("position:absolute;top:0;left:0;width:100%;height:100%;display:none".split(";"),function(a){b=a.split(":"),c[b[0]]=b[1]}),a},setEase:function(a){return this.ease=h(a)?a:L[a]||L.ease,this},addEase:function(a,b){return h(b)&&(L[a]=b),this},setTransition:function(a){return this.events.update.splice(0,1,h(a)?a:M[a]||M.slide),this},addTransition:function(a,b){return h(b)&&(M[a]=b),this},isStatic:function(){return!this.timer&&!this.drag},on:function(a,b){var c=this;return"object"==d(a)?k(a,function(a,b){c.on(a,b)}):(this.events[a]||(this.events[a]=[]),this.events[a].push(b)),this},fire:function(a){var b=this,c=D.call(arguments,1);return k(this.events[a]||[],function(a){h(a)&&a.apply(b,c)}),this},freeze:function(a){return this.frozen=null==a||!!a,this},slide:function(a){function b(){var a=Math.min(d,+new Date-e),i=d?f(a,0,1,d):1,l=(m-j)*i+j;c.fixUpdate(l,g,k),a==d?(n&&(n.style.display="none"),delete c.timer,c.fire("after",h,g)):c.timer=t(b)}var c=this,d=(this.direction,this.duration),e=+new Date,f=this.ease,g=this.current,h=Math.min(this.length-1,Math.max(0,this.fixIndex(a))),i=this.pages[g],j=this.getPercent(),k=this.fixIndex(h==g?g+(j>0?-1:1):h),l=this.pages[k],m=a>g?-1:1,n=i;return u(this.timer),h==g?(m=0,n=l):"none"==l.style.display&&(j=0),this.fixBlock(g,k),this.fire("before",g,h),this.current=h,d*=Math.abs(m-j),this.latestTime=e+d,b(),this},prev:function(){return this.slide(this.current-1)},next:function(){return this.slide(this.current+1)},play:function(){return this.playing=!0,this.firePlay()},firePlay:function(){var a=this;return this.playing&&(this.playTimer=setTimeout(function(){a.slide((a.current+1)%(a.loop?1/0:a.length))},this.interval)),this},pause:function(){return this.playing=!1,clearTimeout(this.playTimer),this},fixIndex:function(a){return this.length>1&&this.loop?(this.length+a)%this.length:a},fixBlock:function(a,b){return k(this.pages,function(c,d){a!=d&&b!=d?c.style.display="none":c.style.display="block"}),this},fixUpdate:function(a,b,c){var d,e=this.pageData,f=this.pages[b],g=this.pages[c];return e[b].percent=a,g&&(d=e[c].percent=a>0?a-1:1+a),this.fire("update",f,a,g,d)},getPercent:function(a){var b=this.pageData[null==a?this.current:a];return b&&(b.percent||0)},getOffsetParent:function(){var a=m(this.container,"position");return a&&"static"!=a?this.container:this.container.offsetParent||v.body},handleEvent:function(a){var b=q(a),c=b.button<1&&b.length<2&&(!this.pointerType||this.pointerType==b.eventType)&&(this.mouse||"mouse"!=b.pointerType);switch(b.eventCode){case 2:if(c&&this.rect){var d,e,f=this.current,g=this.direction,h=[b.clientX,b.clientY],i=this.rect,j=h[g]-i[g],l=(this.pages[f],this.offsetParent[g?"clientHeight":"clientWidth"]);null==this.drag&&i.toString()!=h.toString()&&(this.drag=Math.abs(j)>=Math.abs(h[1-g]-i[1-g]),this.drag&&this.fire("dragStart",b)),this.drag&&(e=this.percent+(l&&j/l),this.pages[d=this.fixIndex(f+(e>0?-1:1))]||(e/=Math.abs(j)/l+2),this.fixBlock(f,d),this.fire("dragMove",b),this.fixUpdate(e,f,d),this._offset=j,b.preventDefault())}break;case 1:case 3:if(c){var m,j,n,o,p=this,r=this.current,e=this.getPercent();b.length&&(1==b.eventCode||this.drag)?(o=b.target.nodeName.toLowerCase(),clearTimeout(this.eventTimer),this.pointerType||(this.pointerType=b.eventType),this.timer&&(u(this.timer),delete this.timer),this.rect=[b.clientX,b.clientY],this.percent=e,this.time=+new Date,this.offsetParent=this.getOffsetParent(),"touch"==b.eventType||"a"!=o&&"img"!=o||b.preventDefault()):(n=this.time)&&(j=this._offset,m=this.drag,k("rect drag time percent _offset offsetParent".split(" "),function(a){delete p[a]}),m&&((+new Date-n<500&&Math.abs(j)>20||Math.abs(e)>.5)&&(r+=j>0?-1:1),this.fire("dragEnd",b),b.preventDefault()),e?this.slide(r):m&&this.firePlay(),this.eventTimer=setTimeout(function(){delete p.pointerType},400))}break;case 4:this.timer&&b.preventDefault();break;case 5:if(b.preventDefault(),this.isStatic()&&+new Date-this.latestTime>Math.max(1e3-this.duration,0)){var s=b.wheelDelta||-b.detail;Math.abs(s)>=3&&this[s>0?"prev":"next"]()}break;case 6:var o=b.target.nodeName.toLowerCase();if(this.isStatic()&&"input"!=o&&"textarea"!=o&&"select"!=o)switch(b.keyCode||b.which){case 33:case 37:case 38:this.prev();break;case 32:case 34:case 39:case 40:this.next();break;case 35:this.slide(this.length-1);break;case 36:this.slide(0)}}},destroy:function(){var a=this.pageData;return o(this.container,I.join(" ")+" click"+(this.mousewheel?" mousewheel DOMMouseScroll":""),this.handler),o(v,J.join(" ")+(this.arrowkey?" keydown":""),this.handler),k(this.pages,function(b,c){b.style.cssText=a[c].cssText}),this.container.removeChild(this.comment),this.length=0,this.pause()},append:function(a,b){return null==b&&(b=this.pages.length),this.pageData.splice(b,0,{percent:0,cssText:a.style.cssText}),this.pages.splice(b,0,a),this.container.appendChild(this.initStyle(a)),this.length=this.pages.length,b<=this.current&&this.current++,this},prepend:function(a){return this.append(a,0)},insertBefore:function(a,b){return this.append(a,b-1)},insertAfter:function(a,b){return this.append(a,b+1)},remove:function(a){return this.container.removeChild(this.pages[a]),this.pages.splice(a,1),this.pageData.splice(a,1),this.length=this.pages.length,a<=this.current&&this.slide(this.current=Math.max(0,this.current-1)),this}},k("Ease Transition".split(" "),function(a){b["add"+a]=b.prototype["add"+a]}),"object"==typeof exports?module.exports=b:"function"==typeof define&&define.amd?define("pageSwitch",function(){return b}):a.pageSwitch=b}(window,function(a,b){return this instanceof arguments.callee?(this.container="string"==typeof a?document.querySelector(a):a,void this.init(b||{})):new arguments.callee(a,b)});
//# sourceMappingURL=pageSwitch.min.js.map